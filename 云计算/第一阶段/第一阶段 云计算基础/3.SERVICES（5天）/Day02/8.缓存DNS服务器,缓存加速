缓存DNS服务器,缓存加速

搭建方式：
• 方式1:全局转发
– 将请求转发给指定的公共DNS(其他缓存DNS),请求递归服务

• 方式2:根域迭代
– 依次向根、一级、二级......域的DNS服务器迭代


真机：搭建缓存DNS服务器

1.真机搭建Yum仓库
# cat /etc/redhat-release 
 CentOS Linux release 7.4.1708 (Core) 

# mkdir /dvd
# mount /iso/CentOS-7-x86_64-DVD-1708.iso  /dvd/
# ls /dvd/

2.书写配置文件
# cd  /etc/yum.repos.d/
# mkdir  repo
# mv  *.repo   repo
# vim  dvd.repo
 [dvd]
 name=CentOS7
 baseurl=file:///dvd
 enabled=1
 gpgcheck=0

3.安装bind、bind-chroot
4.查看真机DNS服务器地址
[root@room9pc01 ~]# cat /etc/resolv.conf 
# Generated by NetworkManager
search tedu.cn
nameserver 172.40.1.10

5.修改DNS主配置文件，指定缓存DNS服务器配置（全局转发式）
[root@room9pc01 ~]# cp /etc/named.conf /root/
[root@room9pc01 ~]# vim /etc/named.conf
 options {
  directory       "/var/named";
  forwarders  {  172.40.1.10;  };  #转发给中心DNS服务器
  };

[root@room9pc01 ~]# systemctl restart named

6.验证：
虚拟机A：
[root@svr7 /]# nslookup www.sina.com 192.168.4.254

